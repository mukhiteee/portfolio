<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mukhiteee</title>

  <!-- Embedded CSS: keeps your design but fixes bugs and adds animations/interactions -->
  <style>
    :root{
      --bg-start: #003;
      --bg-end: #000;
      --muted: #9b9b9d;
      --accent-gradient: linear-gradient(140deg, red 1%, blue 100%);
      --card-bg: rgba(0,3,57,0.6);
      --glass: rgba(0,3,57,0.35);
      --text: #9bff9b; /* subtle green vibe */
      --white: #fff;
      --blur-amt: 10px;
      --ease: cubic-bezier(.2,.9,.2,1);
    }
    /* Dark / Light toggle variables (swapped when .light on <html>) */
    html.light { 
      --bg-start: #f6f8ff;
      --bg-end: #f0f4ff;
      --card-bg: rgba(255,255,255,0.85);
      --glass: rgba(255,255,255,0.6);
      --muted: #666;
      --text: #063;
      --color: #000;
      --white: #000;
    }

    /* Reset & core */
    *{box-sizing: border-box; margin:0; padding:0}
    html { scroll-behavior: smooth; font-size:16px; }
    body{
      min-height:100vh;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: var(--text);
      background: radial-gradient(circle at 50% 10%, var(--bg-start) 10%, var(--bg-end) 100%);
      overflow-x:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      transition: background 400ms var(--ease), color 300ms var(--ease);
    }

    /* Canvas particle sits behind everything */
    #particles {
      position: fixed; inset:0; z-index:0; pointer-events:none;
      mix-blend-mode: screen; opacity:0.6;
    }

    /* Header */
    .head{
      position: sticky; top:0; z-index:40;
      background: rgba(0,3,57,0.22);
      -webkit-backdrop-filter: blur(var(--blur-amt));
      backdrop-filter: blur(var(--blur-amt));
      padding:1rem 1.25rem;
      display:flex; align-items:center; justify-content:space-between;
      border-bottom-left-radius:15px; border-bottom-right-radius:15px;
    }
    .brand{ display:flex; align-items:center; gap:.75rem;}
    .brand h1{
      font-size:26px; font-weight:400; margin-left:4px;
      background: var(--accent-gradient);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      background-clip:text; color:transparent;
      display:inline-block; animation:slideX 800ms var(--ease) both;
    }
    @keyframes slideX { from{ transform:translateX(-20px); opacity:.6 } to{ transform:none } }

    /* Nav (simple clickable list that highlights) */
    nav.primary { display:flex; gap:12px; align-items:center; font-weight:300; color:var(--muted) }
    nav.primary button{ background:none; border:none; color:inherit; cursor:pointer; padding:6px 8px; border-radius:8px; font-size:0.95rem; transition: all 240ms var(--ease) }
    nav.primary button.is-active{ color:var(--white); background: rgba(255,255,255,0.03); box-shadow:0 6px 18px rgba(0,0,0,0.35) }

    /* Theme toggle */
    .controls{ display:flex; gap:.5rem; align-items:center }
    .toggle{
      width:44px; height:30px; border-radius:999px; padding:4px;
      background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(0,0,0,0.25));
      border:1px solid rgba(255,255,255,0.04); display:flex; align-items:center;
      cursor:pointer; transition: all 240ms var(--ease);
    }
    .toggle .dot{
      width:20px;height:20px;border-radius:50%; background:linear-gradient(140deg,red,blue);
      transform: translateX(0); transition:transform 260ms var(--ease);
    }
    html.light .toggle .dot{ transform: translateX(14px) }

    /* Hero */
    .hero{ position:relative; z-index:10; margin:30px 10px; padding:2rem; border-radius:15px; background:transparent; }
    .hero-inner{ max-width:900px; margin:0 auto; display:flex; flex-direction:column; gap:1rem; align-items:flex-start; }
    .hero img.avatar{
      width:100px; height:100px; border-radius:50%; border:2px solid #090909; display:block;
      object-fit:cover; transition: transform .6s var(--ease), box-shadow .3s var(--ease);
      z-index:5;
    }
    .hero img.avatar:hover{ transform:translateY(-6px) rotate(-1deg); box-shadow:0 18px 40px rgba(0,0,0,0.6) }

    .intro{
      display:flex; gap:1rem; align-items:center; width:100%;
    }
    .intro .text { max-width:calc(100% - 120px) }
    .intro h2{
      font-size:34px; font-weight:700; margin:0;
      background:var(--accent-gradient);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
    }
    .intro p{ color:var(--white); text-align:justify; padding-top:.5rem; font-weight:200; line-height:1.5rem }

    .hero-footer{ display:flex; gap:1rem; align-items:center; margin-top:0.6rem; }
    .hero-footer span{ display:flex; gap:.5rem; align-items:center; color:var(--muted) }
    .hero-footer i{ font-style:normal; opacity:.9 }

    .cta{ margin-top:1rem; display:flex; gap:.6rem; align-items:center; }
    .cta button{
      min-width:120px; height:50px; border-radius:15px; border:none; cursor:pointer;
      color:var(--white); background:#1f1f1f; transition: transform 260ms var(--ease), box-shadow 260ms var(--ease);
    }
    .cta .primary-btn{ background:var(--accent-gradient) }
    .cta .secondary-btn{
      background:transparent; -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      background-clip:text; border:1px solid rgba(255,255,255,0.04);
      color:transparent;
    }
    .cta button:hover{ transform:translateY(-6px); box-shadow:0 20px 40px rgba(0,0,0,0.45) }

    /* About / Skills / Projects shared styles */
    section{ margin-top:50px; padding:0 10px; z-index:10; position:relative }
    .section-header {
      position: sticky; top:0; padding:1rem 0; -webkit-backdrop-filter: blur(var(--blur-amt)); backdrop-filter: blur(var(--blur-amt));
      border-bottom-left-radius:15px; border-bottom-right-radius:15px;
      display:flex; flex-direction:column;
      z-index:30;
    }
    .section-header h2{
      font-weight:400; background:var(--accent-gradient); -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      display:inline-block; margin-left:20px;
    }
    .section-header p{ margin-left:20px; color:var(--white); font-style:italic; font-weight:200 }

    .section-body{ padding:2rem; padding-top:0; max-width:1100px; margin:0 auto; }

    .about p{ color:var(--white); padding:0.5rem 0; font-weight:200; line-height:1.45rem }

    /* Skills grid */
    .skills-container{ display:flex; flex-wrap:wrap; gap:12px; align-items:flex-start; justify-content:flex-start }
    .skills-card{ height:100px; background:var(--card-bg); display:flex; align-items:center; padding:1rem 1.25rem; gap:20px; border-radius:8px; border:1px solid rgba(255,255,255,0.04); transition: transform .36s var(--ease), box-shadow .36s var(--ease); min-width:220px }
    .skills-card:hover{ transform:translateY(-6px); box-shadow:0 18px 40px rgba(0,0,0,0.6) }
    .skills-card i{ width:80px;height:80px; display:flex; align-items:center; justify-content:center; border-radius:8px; background:rgba(128,0,128,0.6); font-size:2.4rem; color:var(--white) }
    .skills-card h6{ color:var(--white); font-size:1.25rem; font-weight:200; margin:0 }

    /* animated skill bar small under name */
    .skill-bar{ height:8px; width:120px; background:rgba(255,255,255,0.06); border-radius:99px; overflow:hidden; }
    .skill-bar > span{ display:block; height:100%; width:0%; background:linear-gradient(90deg,#56ab2f,#a8e063); transition: width 1000ms var(--ease) }

    /* Projects */
    .projects-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:18px; width:100%; }
    .projects-card{ position:relative; height:300px; border-radius:15px; overflow:hidden; border:1px solid rgba(0,3,57,0.6); background:var(--card-bg); transition: transform .55s var(--ease), box-shadow .55s var(--ease) }
    .projects-card:hover{ transform:scale(1.03); box-shadow:0 30px 60px rgba(0,0,0,0.6) }
    .card-bg img{ width:100%; height:100%; object-fit:cover; display:block; filter:grayscale(10%); transition: filter .6s var(--ease), transform .8s var(--ease) }
    .projects-card:hover .card-bg img{ transform:scale(1.06); filter:grayscale(0%) blur(2px) }
    .card-overlay{ position:absolute; inset:0; display:flex; flex-direction:column; justify-content:space-between; padding:1rem; background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(0,0,0,0.6)) }
    .card-overlay-head h2{ background:rgba(0,3,57,0.45); display:inline-block; padding:6px 14px; border-radius:10px; color:var(--white); font-size:.9rem; font-weight:400 }
    .card-overlay-bottom h1{ margin:0; font-size:1.2rem; background:var(--accent-gradient); -webkit-background-clip:text; -webkit-text-fill-color:transparent }
    .card-overlay-bottom p{ color:var(--white); font-weight:200; margin:.4rem 0 }
    .card-overlay-bottom a{ text-decoration:none; color:var(--muted); padding:6px 10px; border-radius:8px; float:right }
    .card-overlay-bottom a:hover{ color:red; transform:scale(1.05) }

    /* contact */
    .contact-wrap{ display:flex; gap:20px; flex-wrap:wrap; align-items:flex-start }
    form{ background:var(--card-bg); padding:2rem; border-radius:10px; border:1px solid rgba(0,0,0,0.2); width:420px; max-width:100% }
    .form-input{ margin-top:1rem; position:relative }
    label.floater{ position:absolute; left:12px; top:12px; pointer-events:none; font-size:.85rem; color:var(--muted); transition: all 220ms var(--ease) }
    input, textarea{
      width:100%; padding:14px 12px; padding-top:1.8rem; border-radius:10px; border:1px solid rgba(0,0,0,0.12);
      background:rgba(0,0,0,0.25); color:var(--white); resize:vertical; min-height:44px; transition: border .22s var(--ease), background .22s var(--ease);
    }
    input:focus, textarea:focus{ outline:none; border-color:rgba(0,3,57,0.8); background:rgba(0,3,57,0.18) }
    /* when input has value or focus, float label */
    .form-input input:not(:placeholder-shown) + label.floater,
    .form-input textarea:not(:placeholder-shown) + label.floater,
    .form-input input:focus + label.floater,
    .form-input textarea:focus + label.floater{
      transform: translateY(-28px) scale(.9); opacity:0.95; left:8px;
    }
    form button[type="submit"]{ margin-top:1rem; padding:10px 18px; border-radius:10px; border:none; cursor:pointer; background:var(--accent-gradient); color:var(--white) }

    /* contact-card (icons) */
    .contact-card{ background:var(--card-bg); padding:1rem; border-radius:10px; display:flex; gap:8px; min-width:220px; align-items:center; justify-content:center; flex-wrap:wrap }
    .contact-card button{ width:50px; height:50px; border-radius:12px; border:none; display:inline-flex; align-items:center; justify-content:center; overflow:hidden; background:purple; cursor:pointer }

    /* footer */
    footer{ margin-top:50px; padding:4rem 1.25rem; background:rgba(0,3,57,0.22); border-top-left-radius:15px; border-top-right-radius:15px }
    .footer-grid{ display:flex; gap:20px; flex-wrap:wrap; align-items:flex-start; justify-content:space-between; max-width:1100px; margin:0 auto }
    .navs{ width:20%; min-width:160px }
    .navs ul{ padding:0; display:flex; flex-direction:column; gap:8px }
    .navs li{ list-style:none; cursor:pointer; background:var(--accent-gradient); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; font-size:0.9rem; font-weight:300 }

    .footer-bottom{ margin-top:2rem; color:var(--muted); text-align:center }

    /* small screens */
    @media (max-width:820px){
      nav.primary{ display:none } /* keep header compact */
      .intro{ flex-direction:column; align-items:flex-start }
      .navs{ width:100%; float:none; margin-top:10px }
      .projects-grid{ grid-template-columns: 1fr }
    }

    /* reveal utility (used by JS) */
    .reveal{ opacity:0; transform: translateY(14px) scale(.995); transition: opacity 600ms var(--ease), transform 600ms var(--ease) }
    .reveal.is-visible{ opacity:1; transform:none }

    /* small misc animations */
    .shake{ animation:shake 420ms ease-in-out }
    @keyframes shake { 10%{ transform:translateX(-6px) } 30%{ transform:translateX(6px) } 50%{ transform:translateX(-4px) } 70%{ transform:translateX(4px) } 100%{ transform:none } }

  </style>
</head>
<body>
  <!-- Particle canvas -->
  <canvas id="particles"></canvas>

  <!-- Header -->
  <header class="head" role="banner">
    <div class="brand">
      <h1>Mukhiteee</h1>
    </div>

    <div style="display:flex; gap:12px; align-items:center">
      <nav class="primary" aria-label="Primary navigation">
        <button data-target="#top" class="nav-btn is-active">Home</button>
        <button data-target="#about" class="nav-btn">About</button>
        <button data-target="#skills" class="nav-btn">Skills</button>
        <button data-target="#projects" class="nav-btn">Projects</button>
        <button data-target="#contact" class="nav-btn">Contact</button>
        <button data-target="#profile" class="nav-btn">Profile</button>
      </nav>

      <div class="controls">
        <div title="Toggle theme" class="toggle" id="themeToggle" role="button" aria-pressed="false">
          <div class="dot" aria-hidden="true"></div>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO / top -->
  <main id="top">
    <section class="hero reveal" aria-labelledby="hero-heading">
      <div class="hero-inner">
        <div class="intro">
          <img class="avatar" src="assets/images/avatar.png" alt="Mukhiteee Picture">
          <div class="text">
            <h2 id="hero-heading"><span id="typing"></span></h2>
            <p id="hero-blurb">I'm a programmer who loves bringing ideas to life from clean front-end interfaces to functional back-end logic. I work comfortably with HTML, CSS, JavaScript, PHP and MySQL, and I'm always experimenting with better ways to build faster and cleaner. Outside pure coding, I teach people what I learn and create content that helps others grow. And when I'm not in dev mode. I'm making music, shooting photos, or cooking up something creative. Basically, I'm always building in tech, in art, and in the people around me.</p>
          </div>
        </div>

        <div class="hero-footer" aria-hidden="false">
          <span><img src="assets/images/avatar.png" alt="" style="width:30px;height:30px;border-radius:50%"></span>
          <span><i class="fa-twitter">Twitter</i></span>
          <span><i class="fa-github">GitHub</i></span>
        </div>

        <div class="cta">
          <button class="primary-btn" id="exploreBtn">Explore</button>
          <button class="secondary-btn" id="cvBtn">Download CV ↓</button>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="about reveal" aria-labelledby="about-heading">
      <div class="section-header">
        <h2 id="about-heading">About</h2>
      </div>
      <div class="section-body about-body">
        <p>I'm a programmer who loves turning idea into real, functional, aesthetically clean digital experiences. I work across both front-end and back-end, blending sharp UI work with solid logic underneath. My toolkit is a mix of HTML, CSS, JavaScript, PHP, and MySQL, basically everything I need to build full projects. I enjoy figuring things out, simplifying problems, and writing code that actually makes sense instead of messy chaos.</p>

        <p>Teaching is a big part of what I do too. I like breaking tech down in a way people actually understand, whether it's beginners trying to enter the devpace or friends levelling up their workflow. Sharing knowledge makes the whole grind feel more meaningful, so I do it through explanantions contnet, and wahtever else helps people catch on faster.</p>

        <p>Outside the tech world, I stay deep in creativity, producing music, taking photos and making content that reflects everything I'm learning and building. I'm basically always creating something, whether it's code, visuals, or sound. My whole goal is to keep improving, stay curious, and help others grow while I level up too.</p>
      </div>
    </section>

    <!-- SKILLS -->
    <section id="skills" class="skills reveal" aria-labelledby="skills-heading">
      <div class="section-header">
        <h2 id="skills-heading">Skills</h2>
        <p>The Magic Behind My Work</p>
      </div>

      <div class="section-body skills-container" aria-live="polite">
        <!-- Each card has data-skill to animate -->
        <div class="skills-card" data-skill="95">
          <i class="fa-html">5</i>
          <div>
            <h6>HTML</h6>
            <div class="skill-bar"><span></span></div>
          </div>
        </div>

        <div class="skills-card" data-skill="88">
          <i class="fa-css"></i>
          <div>
            <h6>CSS</h6>
            <div class="skill-bar"><span></span></div>
          </div>
        </div>

        <div class="skills-card" data-skill="80">
          <i class="fa-js"></i>
          <div>
            <h6>JavaScript</h6>
            <div class="skill-bar"><span></span></div>
          </div>
        </div>

        <div class="skills-card" data-skill="76">
          <i class="fa-php"></i>
          <div>
            <h6>PHP</h6>
            <div class="skill-bar"><span></span></div>
          </div>
        </div>

        <div class="skills-card" data-skill="72">
          <i class="fa-db"></i>
          <div>
            <h6>MySQL</h6>
            <div class="skill-bar"><span></span></div>
          </div>
        </div>

        <div class="skills-card" data-skill="65">
          <i class="fa-react"></i>
          <div>
            <h6>React.js</h6>
            <div class="skill-bar"><span></span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- PROJECTS -->
    <section id="projects" class="projects reveal" aria-labelledby="projects-heading">
      <div class="section-header">
        <h2 id="projects-heading">Projects</h2>
        <p>What I've done in the past?</p>
      </div>

      <div class="section-body projects-grid">
        <!-- Card 1 -->
        <article class="projects-card reveal">
          <div class="card-bg"><img src="assets/images/avatar.png" alt=""></div>
          <div class="card-overlay">
            <div class="card-overlay-head"><h2>E-Commerce</h2></div>
            <div class="card-overlay-bottom">
              <h1>MubaXpress</h1>
              <p>An E-Commerce platform for University Campuses with over 20,000 users</p>
              <a href="#" class="project-link">View ↑</a>
            </div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="projects-card reveal">
          <div class="card-bg"><img src="assets/images/avatar.png" alt=""></div>
          <div class="card-overlay">
            <div class="card-overlay-head"><h2>e-Commerce</h2></div>
            <div class="card-overlay-bottom">
              <h1>ExamBolt</h1>
              <p>An e-Commerce platform for University Campuses with over 20,000 users</p>
              <a href="#" class="project-link">View ↑</a>
            </div>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="projects-card reveal">
          <div class="card-bg"><img src="assets/images/avatar.png" alt=""></div>
          <div class="card-overlay">
            <div class="card-overlay-head"><h2>E-Commerce</h2></div>
            <div class="card-overlay-bottom">
              <h1>MubaXpress</h1>
              <p>An E-Commerce platform for University Campuses with over 20,000 users</p>
              <a href="#" class="project-link">View ↑</a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="contact reveal" aria-labelledby="contact-heading">
      <div class="section-header">
        <h2 id="contact-heading">Contact</h2>
        <p>Lets Connect</p>
      </div>

      <div class="section-body contact-wrap">
        <form id="contactForm" novalidate>
          <div class="form-input">
            <input id="name" name="name" type="text" placeholder=" " autocomplete="name" required>
            <label class="floater" for="name">Name</label>
          </div>

          <div class="form-input">
            <input id="email" name="email" type="email" placeholder=" " autocomplete="email" required>
            <label class="floater" for="email">Email</label>
          </div>

          <div class="form-input">
            <textarea id="message" name="message" placeholder=" " rows="5" required></textarea>
            <label class="floater" for="message">Message</label>
          </div>

          <button type="submit">Send</button>
        </form>

        <div class="contact-card" aria-hidden="false">
          <button title="Link 1"><a href="assets/images/avatar.png"><img src="assets/images/avatar.png" alt=""></a></button>
          <button title="Link 2"><a href="assets/images/avatar.png"><img src="assets/images/avatar.png" alt=""></a></button>
          <button title="Link 3"><a href="assets/images/avatar.png"><img src="assets/images/avatar.png" alt=""></a></button>
          <button title="Link 4"><a href="assets/images/avatar.png"><img src="assets/images/avatar.png" alt=""></a></button>
          <button title="Link 5"><a href="assets/images/avatar.png"><img src="assets/images/avatar.png" alt=""></a></button>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="profile" class="reveal" role="contentinfo">
      <div class="footer-grid">
        <div>
          <h1 style="background:var(--accent-gradient); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-size:1.3rem">Mukhiteee</h1>
          <p style="color:var(--muted); font-style:italic; margin-top:.3rem">Full Stack Web Developer</p>
        </div>

        <div class="navs">
          <nav><ul>
            <li>Home</li>
            <li>About</li>
            <li>Skills</li>
            <li>Projects</li>
            <li>Contact</li>
            <li>Profile</li>
          </ul></nav>
        </div>

        <div>
          <div style="display:flex; gap:8px">
            <a href="#" aria-label="social"><i></i></a>
            <a href="#" aria-label="social"><i></i></a>
            <a href="#" aria-label="social"><i></i></a>
            <a href="#" aria-label="social"><i></i></a>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 All rights reserved</p>
      </div>
    </footer>

  </main>

  <!-- Embedded JS: typing, intersections, particles, parallax, nav highlight, form animation, skill bars -->
  <script>
    /* ========= Helpers ========= */
    const q = s => document.querySelector(s);
    const qa = s => Array.from(document.querySelectorAll(s));

    /* ========= Typing effect ========== */
    (function typing(){
      const txt = "Hello, I'm Mukhiteee.";
      const out = q('#typing');
      let i = 0;
      function step(){
        out.textContent = txt.slice(0, i);
        i++;
        if(i <= txt.length) setTimeout(step, 60);
      }
      // Delay a little so header animation finishes
      setTimeout(step, 400);
    })();

    /* ========= IntersectionObserver reveal for .reveal ========= */
    (function revealOnScroll(){
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if(e.isIntersecting){
            e.target.classList.add('is-visible');
            // trigger skill bars only when skills section becomes visible
            if(e.target.id === 'skills' || e.target.closest('#skills')){
              qa('.skills-card').forEach(card=>{
                const val = +card.getAttribute('data-skill') || 70;
                const bar = card.querySelector('.skill-bar > span');
                if(bar) setTimeout(()=> bar.style.width = val + '%', 120);
              });
            }
            // unobserve to avoid re-running
            obs.unobserve(e.target);
          }
        })
      }, { threshold: 0.12 });

      qa('.reveal').forEach(el => obs.observe(el));
    })();

    /* ========= Smooth parallax for hero avatar (subtle) ========= */
    (function parallax(){
      const avatar = q('.avatar');
      if(!avatar) return;
      window.addEventListener('scroll', () => {
        const y = window.scrollY;
        // subtle translate
        avatar.style.transform = `translateY(${Math.min(20, y * 0.04)}px)`;
      }, { passive:true });
    })();

    /* ========= Nav highlight & click -> smooth scroll ========= */
    (function navHighlight(){
      const navButtons = qa('.nav-btn');
      navButtons.forEach(btn=>{
        btn.addEventListener('click', () => {
          const target = document.querySelector(btn.dataset.target);
          if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
        });
      });

      // highlight based on sections visible
      const sections = qa('main section, footer');
      const obs = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            const id = '#' + (e.target.id || e.target.querySelector('section')?.id || '');
            // set active by index of navButtons matching data-target
            navButtons.forEach(nb => nb.classList.toggle('is-active', nb.dataset.target === ('#' + (e.target.id || '')) ));
          }
        });
      }, { threshold: 0.35 });
      sections.forEach(s => obs.observe(s));
    })();

    /* ========= Theme toggle that preserves choice in localStorage ========= */
    (function themeToggle(){
      const root = document.documentElement;
      const btn = q('#themeToggle');
      const current = localStorage.getItem('site-theme') || 'dark';
      if(current === 'light') root.classList.add('light'), btn.setAttribute('aria-pressed','true');
      btn.addEventListener('click', () => {
        const isLight = root.classList.toggle('light');
        btn.setAttribute('aria-pressed', String(isLight));
        localStorage.setItem('site-theme', isLight ? 'light' : 'dark');
      });
    })();

    /* ========= Simple particle system (canvas) ========= */
    (function particles(){
      const canvas = q('#particles');
      if(!canvas) return;
      const ctx = canvas.getContext('2d');
      const DPR = window.devicePixelRatio || 1;
      let w, h, particles = [];

      function reset(){
        w = canvas.width = innerWidth * DPR;
        h = canvas.height = innerHeight * DPR;
        canvas.style.width = innerWidth + 'px';
        canvas.style.height = innerHeight + 'px';
        particles = [];
        for(let i=0;i<45;i++){
          particles.push({
            x: Math.random()*w,
            y: Math.random()*h,
            r: (Math.random()*1.8 + 0.6) * DPR,
            vx: (Math.random()-0.5)*0.25,
            vy: (Math.random()*0.5 + 0.02),
            alpha: 0.12 + Math.random()*0.25
          });
        }
      }
      function draw(){
        ctx.clearRect(0,0,w,h);
        particles.forEach(p=>{
          p.x += p.vx;
          p.y += p.vy;
          if(p.y > h + 60*DPR) { p.y = -40*DPR; p.x = Math.random()*w }
          ctx.beginPath();
          ctx.fillStyle = 'rgba(120,160,255,' + p.alpha + ')';
          ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
          ctx.fill();
        });
        requestAnimationFrame(draw);
      }
      addEventListener('resize', reset);
      reset(); draw();
    })();

    /* ========= Contact form validation + submit stub with shake on invalid ========= */
    (function contactForm(){
      const form = q('#contactForm');
      if(!form) return;
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        const name = form.name.value.trim();
        const email = form.email.value.trim();
        const message = form.message.value.trim();
        const isEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        if(!name || !email || !message || !isEmail){
          const invalids = [];
          if(!name) invalids.push(form.name);
          if(!email || !isEmail) invalids.push(form.email);
          if(!message) invalids.push(form.message);
          invalids.forEach(el => el.classList.add('shake'));
          setTimeout(()=> invalids.forEach(el => el.classList.remove('shake')), 450);
          return;
        }
        // If valid -> do a subtle success animation and clear (stub)
        form.querySelector('button[type="submit"]').textContent = 'Sent ✓';
        setTimeout(()=> {
          form.reset();
          form.querySelector('button[type="submit"]').textContent = 'Send';
        }, 1200);
      });
    })();

    /* ========= small UX: Explore button scrolls to projects, CV triggers download link ========= */
    q('#exploreBtn').addEventListener('click', ()=> document.querySelector('#projects').scrollIntoView({behavior:'smooth'}));
    q('#cvBtn').addEventListener('click', ()=> {
      // try to download CV if available at /assets/mukhiteee-cv.pdf else fallback to avatar
      const link = document.createElement('a');
      link.href = 'assets/mukhiteee-cv.pdf';
      link.download = 'Mukhiteee-CV.pdf';
      document.body.appendChild(link);
      link.click();
      link.remove();
    });

    /* ========= accessibility: allow keyboard nav on nav buttons ========= */
    qa('.nav-btn').forEach(b => {
      b.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' || e.key === ' ') b.click();
      });
    });

    /* ========= tiny performance safety: pause heavy animations on reduced-motion ========= */
    (function reduceMotion(){
      if(window.matchMedia('(prefers-reduced-motion: reduce)').matches){
        qa('.reveal').forEach(el => el.style.transition = 'none');
        // stop particles
        const canvas = document.querySelector('#particles');
        if(canvas){ canvas.style.display = 'none' }
      }
    })();

  </script>
</body>
</html>
